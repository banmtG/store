<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@shoelace-style/shoelace@2.17.1/cdn/themes/light.css" />
    <script type="module" src="https://cdn.jsdelivr.net/npm/@shoelace-style/shoelace@2.17.1/cdn/shoelace.js"></script>  
    <link href="./css/base.css" rel="stylesheet">
    <script type="text/javascript" src="./dialog-component.js"></script>
    <script type="text/javascript" src="./confirm-dialog.js"></script>
    <script type="text/javascript" src="./quantity-selector.js"></script>
    <title>Dialog component</title>
</head>
<body>
    <!-- <confirm-dialog></confirm-dialog> -->
    <dialog-component label="Confirmation" message='<sl-icon name="exclamation-triangle"></sl-icon>
     <span>Are you sure to delete this?</span>' okbtn="Yes" cancelbtn="No" destroyonclose="false" state="cancel"></dialog-component>
       
    <script>

        // async function openConfirmation() {
        //     const userConfirmed = await dialog.showDialog({
        //         header: 'Delete Item',
        //         message: 'Are you sure you want to delete this item?',
        //         confirmText: 'Yes, delete it',
        //         cancelText: 'Cancel',
        //         closeOnOverlayClick: true
        //     });          
        //     console.log(userConfirmed);
        //     if (userConfirmed=="OK") {
        //             console.log('User confirmed the action!');
        //         } else {
        //             console.log('User canceled the action.');
        //         }
        //     return userConfirmed;
        // }

        // openConfirmation().then((result)=> {
        //     console.log(result);
        // });  

        const dialog = document.querySelector('dialog-component');

        async function openConfirmation() {
            const userConfirmed = await dialog.show();          

            console.log(userConfirmed);
            if (userConfirmed=="OK") {
                    console.log('User confirmed the action!');
                } else {
                    console.log('User canceled the action.');
                }
            return userConfirmed;
        }

        openConfirmation().then((result)=> {
            console.log(result);
        });  

        dialog.addEventListener('resovleEvent', (event) => {
            console.log(event.detail.result);
        })
         

        //  const dialog = document.querySelector('sl-dialog');
        //  dialog.show();
        // console.log(dialog);
        // async function openConfirmation() {
        // const userConfirmed = await dialog.show();

        //     if (userConfirmed) {
        //         console.log('User confirmed the action!');
        //     } else {
        //         console.log('User canceled the action.');
        //     }
        // }

        // openConfirmation();

       // const dialog1 = document.querySelector('dialog-component');  
        // const dialog = document.querySelector('.dialog-overview');
        // const openButton = dialog.nextElementSibling;
        // const closeButton = dialog.querySelector('sl-button[slot="footer"]');

        // openButton.addEventListener('click', () => dialog.show());
        // closeButton.addEventListener('click', () => dialog.hide());
          </script>
       

</body>
</html>